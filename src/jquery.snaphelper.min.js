(function(e){"use strict";e.fn.snapTo=function(o,u,a){o instanceof e||(o=e(o));if(u&&typeof u!="string")throw"Direction must be left, right, top, or bottom";if(a!==undefined&&isNaN(a))throw"Duration must be a number";a=a===undefined?1e3:a;var f=["left","right","up","down"];u=u.toLowerCase();if(u&&f.indexOf(u)===-1)throw"Unsupported direction";var l=t(e(this)),c=t(o),h,p,d;if(!u){d=r(l,c);h=d[0];p=d[1]}else{h=n(l,c,u);p=i(h)}s.call(this,p,a)};var t=function(e){var t=e.position(),n=parseFloat(e.width()),r=parseFloat(e.height()),i=parseFloat(t.top),s=parseFloat(t.left),o=s+n,u=i+r;return{topLeft:{x:s,y:i},topRight:{x:o,y:i},bottomLeft:{x:s,y:u},bottomRight:{x:o,y:u}}},n=function(e,t,n){var r=e,i=t;switch(n){case"right":return[r.topRight,r.bottomRight,i.topLeft,i.bottomLeft];case"left":return[r.topLeft,r.bottomLeft,i.topRight,i.bottomRight];case"up":return[r.topLeft,r.topRight,i.bottomLeft,i.bottomRight];case"down":return[r.bottomLeft,r.bottomRight,i.topLeft,i.topRight]}},r=function(e,t,r){var i=0,s,o,u,a,f,l;for(o=0,u=r.length;o<u;o++){f.push(n(e,t,r[o]));a.push(n(f[o]))}for(o=0,u=a.length;o<u;o++){s=Math.abs(e.left-a[o].left)+Math.abs(e.top-a[o].top);if(s<i){i=s;l=f[o]}}return[l,i]},i=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return{left:i.x-n.x,top:r.y-t.y}},s=function(e,t){var n=this.position();this.animate({left:n.left+e.left,top:n.top+e.top},t)}})(window.jQuery);